{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="auth-container">
    <h1 class="form-title">Criar Nova Conta</h1>
    
    <!-- Mensagens de erro gerais -->
    {% if form.errors %}
        <div class="alert alert-error">
            <i class="fas fa-exclamation-triangle"></i>
            Por favor, corrija os erros abaixo.
        </div>
    {% endif %}

    <form method="post">
        {% csrf_token %}
        
        <!-- Campo Nome -->
        <div class="form-group">
            <input type="text" 
                   name="nome_completo" 
                   class="input-field {% if form.nome_completo.errors %}is-invalid{% endif %}" 
                   placeholder="Nome completo" 
                   required>
            {% if form.nome_completo.errors %}
                <div class="error-message">
                    {% for error in form.nome_completo.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Campo E-mail -->
        <div class="form-group">
            <input type="email" 
                   name="email" 
                   class="input-field {% if form.email.errors %}is-invalid{% endif %}" 
                   placeholder="E-mail" 
                   required>
            {% if form.email.errors %}
                <div class="error-message">
                    {% for error in form.email.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Campo Senha -->
        <div class="form-group">
            <div class="password-input-container">
                <input type="password" 
                       name="password1" 
                       class="input-field {% if form.password1.errors %}is-invalid{% endif %}" 
                       placeholder="Senha" 
                       required 
                       id="password1">
            </div>
            {% if form.password1.errors %}
                <div class="error-message">
                    {% for error in form.password1.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
            {% include 'includes/_password_rules.html' %}
        </div>

        <!-- Campo Confirmar Senha -->
        <div class="form-group">
            <div class="password-input-container">
                <input type="password" 
                       name="password2" 
                       class="input-field {% if form.password2.errors %}is-invalid{% endif %}" 
                       placeholder="Confirmar Senha" 
                       required 
                       id="password2">
            </div>
            {% if form.password2.errors %}
                <div class="error-message">
                    {% for error in form.password2.errors %}
                        {{ error }}
                    {% endfor %}
                </div>
            {% endif %}
        </div>

        <!-- Alternar visibilidade de senha -->
        <div class="password-toggle-container">
            <i class="fas fa-eye" id="toggle-passwords"></i>
            <span class="toggle-label">Mostrar Senhas</span>
        </div>

        <!-- Botão de envio -->
        <button type="submit" class="btn-primary">Criar Conta ✨</button>
    </form>
</div>
{% endblock %}